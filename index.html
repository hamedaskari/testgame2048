<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="utf-8" />
    <title>Ø¨Ø§Ø²ÛŒ 2048</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Roboto:ital,wght@0,100..900;1,100..900&family=Vazirmatn:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link href="style/main.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="apple-touch-icon" href="meta/apple-touch-icon.png" />
    <link
      rel="apple-touch-startup-image"
      href="meta/apple-touch-startup-image-640x1096.png"
      media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
    />
    <!-- iPhone 5+ -->
    <link
      rel="apple-touch-startup-image"
      href="meta/apple-touch-startup-image-640x920.png"
      media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"
    />
    <!-- iPhone, retina -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta
      name="viewport"
      content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, maximum-scale=1, user-scalable=no, minimal-ui"
    />
    <style>
      /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù„ÛŒØ¯Ø±Ø¨Ø±Ø¯ */
      #leaderboard-container {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container" id="game-container">
      <div class="heading">
        <h1 class="title">2048</h1>
        <div class="scores-container">
          <div class="score-container">0</div>
          <div class="best-container">0</div>
        </div>
      </div>

      <div class="above-game">
        <p class="game-intro">
          Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ù‡ <strong>2048</strong> Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø±Ø³ÛŒØ¯
        </p>
        <div class="btn-container">
          <a class="restart-button">Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯</a>
          <a id="leaderBoardButton" class="leaderBoard-button"> ğŸ¥‡ Ø±ØªØ¨Ù‡ Ø¨Ù†Ø¯ÛŒ</a>
        </div>
      </div>

      <div class="box-game">
        <div class="game-container">
          <div class="game-message">
            <p></p>
            <div class="lower">
              <a class="keep-playing-button">Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø§Ø¯Ù†</a>
              <a class="retry-button">Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡</a>
            </div>
          </div>

          <div class="grid-container">
            <div class="grid-row">
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
            </div>
            <div class="grid-row">
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
            </div>
            <div class="grid-row">
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
            </div>
            <div class="grid-row">
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
              <div class="grid-cell"></div>
            </div>
          </div>

          <div class="tile-container"></div>
        </div>
      </div>

      <p class="game-explanation">
        <strong class="important">Ù†Ø­ÙˆÙ‡ Ø¨Ø§Ø²ÛŒ:</strong> Ø§Ú¯Ø± Ø§Ø² Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø§Ø³ØªÙØ§Ø¯Ù‡
        Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¨Ø§ Ù„Ù…Ø³ Ùˆ Ú©Ø´ÛŒØ¯Ù† ØµÙØ­Ù‡ØŒ Ú©Ø§Ø´ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ø­Ø±Ú©Øª Ø¯Ù‡ÛŒØ¯. Ø§Ú¯Ø± Ø§Ø² Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±
        Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ØŒ Ø¨Ø§ <strong>Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ Ø¬Ù‡Øªâ€ŒØ¯Ø§Ø±</strong> Ú©Ø§Ø´ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ø¬Ø§Ø¨Ù‡â€ŒØ¬Ø§
        Ú©Ù†ÛŒØ¯. ÙˆÙ‚ØªÛŒ Ø¯Ùˆ Ú©Ø§Ø´ÛŒ Ø¨Ø§ Ø¹Ø¯Ø¯ ÛŒÚ©Ø³Ø§Ù† Ø¨Ù‡ Ù‡Ù… Ø¨Ø±Ø®ÙˆØ±Ø¯ Ú©Ù†Ù†Ø¯ØŒ
        <strong>Ø§Ø¯ØºØ§Ù… Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</strong>
      </p>
    </div>

    <!-- Ú©Ø¯Ù‡Ø§ÛŒ Ù„ÛŒØ¯Ø±Ø¨Ø±Ø¯ -->
    <div class="container" id="leaderboard-container">
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª</h2>
        </div>
        <div class="card-content">
          <div
            style="
              display: flex;
              width: 8rem;
              justify-content: center;
              border-radius: 10px;
              text-align: center;
              margin-bottom: 1rem;
              background-color: rgb(0, 155, 13);
            "
          >
            <a class="returnToGame-button" href="#">Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø§Ø²ÛŒ</a>
          </div>
          <div id="error-message" class="error-message"></div>
          <div id="table-container" class="table-container">
            <table id="leaderboard-table" class="leaderboard-table">
              <thead>
                <tr>
                  <th class="score-column">
                    <div class="score-header">
                      Ø§Ù…ØªÛŒØ§Ø²
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 16 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M8 1l-4 4h8l-4 4"
                          stroke="#4b5563"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </div>
                  </th>
                  <th class="player-column">Ø¨Ø§Ø²ÛŒÚ©Ù†</th>
                  <th class="rank-column">Ø±ØªØ¨Ù‡</th>
                </tr>
              </thead>
              <tbody id="leaderboard-body"></tbody>
            </table>
            <div id="skeleton-container" class="skeleton-container"></div>
          </div>
          <div id="pagination-container" class="pagination-container"></div>
        </div>
      </div>
    </div>

    <script src="https://tapi.bale.ai/miniapp.js?1"></script>
    <script src="js/bind_polyfill.js"></script>
    <script src="js/classlist_polyfill.js"></script>
    <script src="js/animframe_polyfill.js"></script>
    <script src="js/keyboard_input_manager.js"></script>
    <script src="js/html_actuator.js"></script>
    <script src="js/grid.js"></script>
    <script src="js/tile.js"></script>
    <script src="js/local_storage_manager.js"></script>
    <script src="js/game_manager.js"></script>
    <script src="js/application.js"></script>
    <script src="./js/leaderBoard.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const gameContainer = document.getElementById("game-container");
        const leaderboardContainer = document.getElementById(
          "leaderboard-container"
        );
        const leaderBoardButton = document.getElementById("leaderBoardButton");
        const returnToGameButton = document.querySelector(
          ".returnToGame-button"
        );

        // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ¯Ø±Ø¨Ø±Ø¯ Ùˆ Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø¨Ø§Ø²ÛŒ
        function showLeaderboard() {
          gameContainer.style.display = "none";
          leaderboardContainer.style.display = "block";
        }

        // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ø²ÛŒ Ùˆ Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù„ÛŒØ¯Ø±Ø¨Ø±Ø¯
        function showGame() {
          gameContainer.style.display = "block";
          leaderboardContainer.style.display = "none";
        }

        // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Ø±ØªØ¨Ù‡ Ø¨Ù†Ø¯ÛŒ"
        leaderBoardButton.addEventListener("click", function (event) {
          event.preventDefault(); // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø±ÙØªÙ† Ø¨Ù‡ ØµÙØ­Ù‡ Ø¯ÛŒÚ¯Ø±
          showLeaderboard();
        });

        // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø§Ø²ÛŒ" Ø¯Ø± ØµÙØ­Ù‡ Ù„ÛŒØ¯Ø±Ø¨Ø±Ø¯
        returnToGameButton.addEventListener("click", function (event) {
          event.preventDefault(); // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø±ÙØªÙ† Ø¨Ù‡ ØµÙØ­Ù‡ Ø¯ÛŒÚ¯Ø±
          showGame();
        });

        // Ù†Ù…Ø§ÛŒØ´ Ø§ÙˆÙ„ÛŒÙ‡: Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ø²ÛŒØŒ Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù„ÛŒØ¯Ø±Ø¨Ø±Ø¯
        showGame();
      });
    </script>
  </body>
</html>
